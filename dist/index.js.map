{"version":3,"file":"index.js","sources":["../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport * as d3 from 'd3'\nimport { scaleLinear } from 'd3-scale'\n\ninterface ReactGSEADatum {\n  x: number\n  y: number\n  b: number\n}\n\nexport interface ReactGSEAProps {\n  data: Array<ReactGSEADatum>\n  svgRef?: (ref: SVGElement) => void\n}\n\nexport interface ReactGSEAState {\n  ref?: SVGElement\n}\n\nexport function dataFromResults({ input, output }: {\n  input: {\n    up: string[],\n    down: string[],\n  }\n  output: {\n    entities: string[],\n    ranks: number[],\n  },\n}) {\n  const { up, down } = input\n  const { entities, ranks } = output\n\n  var data = new Array();\n\n  for(var i=0; i<ranks.length; i++){\n    if(up.includes(entities[i])){\n\n       data.push({\"x\": ranks[i], \"y\": -(ranks[i]-ranks.length/2)/(ranks.length/2), \"b\" : 1});\n       console.log(\"1\");\n     }\n     else if(down.includes(entities[i])){\n       data.push({\"x\": ranks[i], \"y\": -(ranks[i]-ranks.length/2)/(ranks.length/2), \"b\" : -1});\n     }\n     else{\n       data.push({\"x\": ranks[i], \"y\": -(ranks[i]-ranks.length/2)/(ranks.length/2), \"b\" : 0});\n     }\n  }\n\n  data.sort(function(a,b) {\n    return b.x - a.x;\n  });\n\n  data[\"columns\"] = [\"x\", \"y\", \"b\"]\n\n  return data\n}\n\nexport class ReactGSEA extends React.Component<ReactGSEAProps, ReactGSEAState> {\n  constructor(props: ReactGSEAProps) {\n    super(props)\n    this.state = {}\n  }\n\n  componentWillReceiveProps = (props: ReactGSEAProps) => {\n    this.plotReactGSEA()\n  }\n\n  updateRef = (ref) => {\n    if (this.state.ref === undefined && ref !== undefined) {\n      // React has initialized and we have a component ref\n      this.setState({ ref }, () => {\n        if (this.props.svgRef !== undefined) {\n          this.props.svgRef(ref)\n        }\n        this.plotReactGSEA()\n      })\n    }\n  }\n\n  plotReactGSEA = () => {\n    // Prepare variables\n    const ref = this.state.ref\n    const data = this.props.data\n\n    // Can't do anything without the ref\n    if (ref === undefined) {\n      return\n    }\n\n    // Remove old content\n    while (ref.firstChild) ref.removeChild(ref.firstChild)\n\n    // Handle d3\n    let running_up = [];\n    let running_down = [];\n\n    // set the dimensions and margins of the graph\n    let margin = {top: 5, right: 20, bottom: 30, left: 70},\n        width = 500 - margin.left - margin.right,\n        height = 130 - margin.top - margin.bottom;\n\n    let topheight = 400;\n\n    // set the ranges\n    let x = scaleLinear().range([0, width]);\n    let y = scaleLinear().range([200, 0]);\n\n    // define the line\n    let valueline = d3.line<ReactGSEADatum>()\n        .x(function(d: ReactGSEADatum) { return x(d.x); })\n        .y(function(d: ReactGSEADatum) { return y(d.y); });\n\n    // running sum vizualization\n    let svg2 = d3.select(ref).append(\"g\").attr(\"id\", \"ReactGSEAs\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", 200 + margin.bottom)\n      .attr(\"transform\",\n            \"translate(\" + margin.left + \",\" + 20 + \")\");\n\n    // append the svg obgect to the body of the page\n    // appends a 'group' element to 'svg'\n    // moves the 'group' element to the top left margin\n    let svg = d3.select(ref).append(\"g\").attr(\"id\", \"enrichsvg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .attr(\"transform\",\n              \"translate(\" + margin.left + \",\" + (200 + 2 * margin.top + margin.bottom) + \")\");\n\n    running_up = new Array(data.length+1);\n    running_down = new Array(data.length+1);\n    running_up[0] = 0;\n    running_down[0] = 0;\n\n    // format the data\n    let counter = 1;\n    for (const d of data) {\n        d.x = +d.x;\n        d.y = +d.y;\n        d.b = +d.b;\n\n        if(d.b == 1){\n          running_up[counter] = running_up[counter-1] + 1;\n          running_down[counter] = running_down[counter-1];\n        }\n        else if(d.b == -1){\n          running_up[counter] = running_up[counter-1];\n          running_down[counter] = running_down[counter-1] + 1;\n        }\n        else{\n          running_up[counter] = running_up[counter-1];\n          running_down[counter] = running_down[counter-1];\n        }\n\n        counter++;\n    }\n\n    let t1 = running_up[running_up.length-1]\n    let t2 = running_down[running_down.length-1]\n\n    let running_up_xy = [];\n    let running_down_xy = [];\n\n    let miny = 0;\n    let maxy = 0;\n\n    for(let i=0; i<running_up.length; i++){\n      running_up[i] = (running_up[i]-(t1/running_up.length))/(t1)-i/(running_up.length);\n      running_down[i] = (running_down[i]-(t2/running_down.length))/(t2)-i/(running_down.length);\n\n      if(running_up[i] < miny){\n        miny = running_up[i];\n      }\n      else if(running_down[i] < miny){\n        miny = running_down[i];\n      }\n\n      if(running_up[i] > maxy){\n        maxy = running_up[i];\n      }\n      else if(running_down[i] > maxy){\n        maxy = running_down[i];\n      }\n\n      running_up_xy.push({x: i, y: +running_up[i]});\n      running_down_xy.push({x: i, y: +running_down[i]});\n    }\n\n    let ReactGSEA = d3.line<ReactGSEADatum>()\n      .x(function(d: ReactGSEADatum) { return x(d.x); })\n      .y(function(d: ReactGSEADatum) { return y(d.y); });\n\n    // Scale the range of the data\n    x.domain([d3.min(data, function(d) { return d.x; }), d3.max(data, function(d) { return d.x; })]);\n    //y.domain([d3.min(data, function(d) { return d.y; }), d3.max(data, function(d) { return d.y; })]);\n    y.domain([miny, maxy]);\n\n    console.log(maxy,miny);\n\n    svg2.append(\"line\")          // attach a line\n      .style(\"stroke\", \"black\")  // colour the line\n      .style(\"stroke-width\", \"2\")\n      .attr(\"x1\", -1)     // x position of the first end of the line\n      .attr(\"y1\", 200*(maxy/(maxy-miny)))      // y position of the first end of the line\n      .attr(\"x2\", width+1)     // x position of the second end of the line\n      .attr(\"y2\", 200*(maxy/(maxy-miny)));\n\n    let relZero = height*d3.max(data, function(d) { return d.y; })/(d3.max(data, function(d) { return d.y; }) - d3.min(data, function(d) { return d.y; }))\n\n    svg.append(\"line\")          // attach a line\n      .style(\"stroke\", \"black\")  // colour the line\n      .style(\"stroke-width\", \"2\")\n      .attr(\"x1\", -1)     // x position of the first end of the line\n      .attr(\"y1\", relZero)      // y position of the first end of the line\n      .attr(\"x2\", width+1)     // x position of the second end of the line\n      .attr(\"y2\", relZero);\n\n    let path2 = svg2.append(\"path\")\n        .data([running_up_xy])\n        .attr(\"class\", \"upline\")\n        .attr(\"d\", ReactGSEA);\n\n    let path3 = svg2.append(\"path\")\n        .data([running_down_xy])\n        .attr(\"class\", \"downline\")\n        .attr(\"d\", ReactGSEA);\n\n\n    // running sum plot stuff\n    svg2.append(\"g\")\n        .attr(\"transform\", \"translate(-5,0)\")\n        .style(\"font\", \"16px arial\")\n        .call(d3.axisLeft(y).ticks(6))\n        .style(\"stroke-width\", \"2\");\n\n    svg2.append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 0 - margin.left)\n          .attr(\"x\", -75 - (height / 2))\n          .attr(\"dy\", \"1em\")\n          .style(\"text-anchor\", \"middle\")\n          .text(\"Enrichment Score\");\n\n    svg2.append(\"rect\")\n          .attr(\"x\", 296)\n          .attr(\"y\", -4)\n          .attr(\"width\", 114)\n          .attr(\"height\", 42)\n          .attr(\"fill\", \"white\")\n          .style(\"opacity\", 0.6);\n\n    svg2.append(\"rect\")\n          .attr(\"x\", 300)\n          .attr(\"y\", 0)\n          .attr(\"width\", 14)\n          .attr(\"height\", 14)\n          .attr(\"fill\", \"dodgerblue\");\n\n    svg2.append(\"text\")\n          .attr(\"y\", 11)\n          .attr(\"x\", 320)\n          .style(\"text-anchor\", \"start\")\n          .text(\"up genes\");\n\n    svg2.append(\"rect\")\n          .attr(\"x\", 300)\n          .attr(\"y\", 20)\n          .attr(\"width\", 14)\n          .attr(\"height\", 14)\n          .attr(\"fill\", \"firebrick\");\n\n    svg2.append(\"text\")\n          .attr(\"y\", 32)\n          .attr(\"x\", 320)\n          .style(\"text-anchor\", \"start\")\n          .text(\"down genes\");\n\n    y = d3.scaleLinear().range([height, 0]);\n    y.domain([d3.min(data, function(d) { return d.y; }), d3.max(data, function(d) { return d.y; })]);\n\n    // Add the valueline path.\n    let path = svg.append(\"path\")\n        .data<ReactGSEADatum[]>([data])\n        .attr(\"class\", \"line\")\n        .attr(\"d\", valueline);\n\n    for(let i=0; i<data.length; i++){\n\n      if(data[i].b == 1){\n        svg.append(\"line\")       // attach a line\n          .style(\"stroke\", \"dodgerblue\")  // colour the line\n          .style(\"stroke-width\", \"2\")\n          .attr(\"x1\", width/2)     // x position of the first end of the line\n          .attr(\"y1\", relZero-30)      // y position of the first end of the line\n          .attr(\"x2\", width/2)     // x position of the second end of the line\n          .attr(\"y2\", relZero-1)\n        .transition()\n          .duration(500)\n          .attr(\"x1\", i*width/(data.length-1))     // x position of the first end of the line\n          .attr(\"y1\", relZero-30)      // y position of the first end of the line\n          .attr(\"x2\", i*width/(data.length-1))     // x position of the second end of the line\n          .attr(\"y2\", relZero-1);\n      }\n      else if(data[i].b == -1){\n        svg.append(\"line\")          // attach a line\n          .style(\"stroke\", \"firebrick\")  // colour the line\n          .style(\"stroke-width\", \"2\")\n            .attr(\"x1\", width/2)     // x position of the first end of the line\n            .attr(\"y1\", relZero+30)      // y position of the first end of the line\n            .attr(\"x2\", width/2)     // x position of the second end of the line\n            .attr(\"y2\", relZero+1)\n          .transition()\n            .duration(500)\n            .attr(\"x1\", i*width/(data.length-1))     // x position of the first end of the line\n            .attr(\"y1\", relZero+30)      // y position of the first end of the line\n            .attr(\"x2\", i*width/(data.length-1))     // x position of the second end of the line\n            .attr(\"y2\", relZero+1);\n      }\n    }\n\n    // Add the Y Axis\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(-5,0)\")\n        .style(\"font\", \"16px arial\")\n        .call(d3.axisLeft(y).ticks(3))\n        .style(\"stroke-width\", \"2\");\n\n    svg.append(\"text\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 0 - margin.left)\n          .attr(\"x\",0 - (height / 2))\n          .attr(\"dy\", \"1em\")\n          .style(\"text-anchor\", \"middle\")\n          .text(\"Gene Weights\");\n\n    svg.append(\"rect\")\n          .attr(\"y\", height/2-36)\n          .attr(\"x\", width/2-36)\n          .attr(\"width\", 72)\n          .attr(\"height\", 22)\n          .attr(\"fill\", \"white\")\n          .style(\"opacity\", 0.6);\n\n    svg.append(\"text\")\n          .attr(\"y\", height/2-20)\n          .attr(\"x\", width/2)\n          .style(\"text-anchor\", \"middle\")\n          .text(\"up genes\");\n\n    svg.append(\"rect\")\n          .attr(\"y\", height/2+24)\n          .attr(\"x\", width/2-46)\n          .attr(\"width\", 92)\n          .attr(\"height\", 22)\n          .attr(\"fill\", \"white\")\n          .style(\"opacity\", 0.6);\n\n    svg.append(\"text\")\n          .attr(\"y\", height/2+40)\n          .attr(\"x\", width/2)\n          .style(\"text-anchor\", \"middle\")\n          .text(\"down genes\");\n  }\n\n  render = () => (\n    <div>\n      <style jsx global>{`\n        .line {\n          fill: none;\n          stroke: black;\n          stroke-width: 4px;\n        }\n\n        .upline {\n          fill: none;\n          stroke: dodgerblue ;\n          stroke-width: 4px;\n        }\n\n        .downline {\n          fill: none;\n          stroke: firebrick;\n          stroke-width: 4px;\n        }\n\n        .body {\n          width: 500px;\n          height: 350px;\n        }\n\n        @keyframes dash{\n            from{\n                stroke-dashoffset: 1000;\n            }\n            to{\n                stroke-dashoffset: 0;\n            }\n        }\n\n        .body {\n          font-family: 'Roboto', sans-serif;\n        }\n      `}</style>\n      {this.state.ref === undefined ? (\n        <div>Loading...</div>\n      ) : null}\n      <svg ref={this.updateRef} className=\"body\"></svg>\n    </div>\n  )\n}\n\nexport default ReactGSEA\n"],"names":["dataFromResults","ref","data","Array","i","ranks","length","up","includes","entities","push","console","log","down","sort","a","b","x","ReactGSEA","constructor","props","plotReactGSEA","undefined","this","state","setState","svgRef","firstChild","removeChild","running_up","running_down","scaleLinear","range","y","valueline","d3","d","svg2","append","attr","width","svg","height","counter","const","t1","t2","running_up_xy","running_down_xy","miny","maxy","domain","style","relZero","call","ticks","text","transition","duration","React.createElement","jsx","global","updateRef","className","React"],"mappings":"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"}